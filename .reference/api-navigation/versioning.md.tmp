{"source": "/home/ilyachch/Projects/OpenSource/django-rest-framework-rusdoc/.reference/api-navigation/versioning.md", "blocks": [{"block_type": "SeparatorBlock"}, {"translated_data": "\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a:\n- versioning.py", "children": [{"text": "source:\n    - versioning.py", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"block_type": "SeparatorBlock"}, {"translated_data": "# \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438", "children": [{"text": "Versioning", "block_type": "TextBlock"}], "level": 1, "block_type": "HeadingBlock"}, {"translated_data": "> \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u2014 \u044d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u00ab\u0432\u0435\u0436\u043b\u0438\u0432\u044b\u0439\u00bb \u0441\u043f\u043e\u0441\u043e\u0431 \u0443\u0431\u0438\u0442\u044c \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432.\n>\n> \u2014 [\u0420\u043e\u0439 \u0424\u0438\u043b\u0434\u0438\u043d\u0433] (https://www.slideshare.net/evolve_conference/201308-fielding-evolve/31).", "children": [{"children": [{"text": "Versioning an interface is just a \"polite\" way to kill deployed clients.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"block_type": "NewlineBlock"}, {"children": [{"text": "&mdash; ", "block_type": "TextBlock"}, {"children": [{"text": "Roy Fielding", "block_type": "TextBlock"}], "url": "https://www.slideshare.net/evolve_conference/201308-fielding-evolve/31", "title": null, "block_type": "LinkBlock"}, {"text": ".", "block_type": "TextBlock"}], "block_type": "Paragraph"}], "block_type": "BlockQuote"}, {"translated_data": "\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 API \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438. \u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 REST \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0440\u044f\u0434 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u0445\u0435\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438.", "children": [{"text": "API versioning allows you to alter behavior between different clients. REST framework provides for a number of different versioning schemes.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c \u0438 \u043c\u043e\u0436\u0435\u0442 \u043e\u0441\u043d\u043e\u0432\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043b\u0438\u0431\u043e \u043d\u0430 URL-\u0430\u0434\u0440\u0435\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043b\u0438\u0431\u043e \u043d\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.", "children": [{"text": "Versioning is determined by the incoming client request, and may either be based on the request URL, or based on the request headers.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u044f\u0434 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0445 \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432 \u043a \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438. [\u041d\u0435\u0432\u0435\u0440\u0441\u0438\u043e\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u043c\u0435\u0441\u0442\u043d\u044b] (https://www.infoq.com/articles/roy-fielding-on-versioning), \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0435\u0441\u043b\u0438 \u0432\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u0447\u0435\u043d\u044c \u0434\u043e\u043b\u0433\u043e\u0441\u0440\u043e\u0447\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438 \u0432\u043d\u0435 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f.", "children": [{"text": "There are a number of valid approaches to approaching versioning. ", "block_type": "TextBlock"}, {"children": [{"text": "Non-versioned systems can also be appropriate", "block_type": "TextBlock"}], "url": "https://www.infoq.com/articles/roy-fielding-on-versioning", "title": null, "block_type": "LinkBlock"}, {"text": ", particularly if you're engineering for very long-term systems with multiple clients outside of your control.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "## \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b REST", "children": [{"text": "Versioning with REST framework", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u0415\u0441\u043b\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 API \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e, \u0430\u0442\u0440\u0438\u0431\u0443\u0442 'request.version' \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u0438, \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u043e\u0439 \u0432\u043e \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435.", "children": [{"text": "When API versioning is enabled, the ", "block_type": "TextBlock"}, {"code": "request.version", "block_type": "CodeSpanBlock"}, {"text": " attribute will contain a string that corresponds to the version requested in the incoming client request.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u043d\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e, \u0438 'request.version' \u0432\u0441\u0435\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c 'None'.", "children": [{"text": "By default, versioning is not enabled, and ", "block_type": "TextBlock"}, {"code": "request.version", "block_type": "CodeSpanBlock"}, {"text": " will always return ", "block_type": "TextBlock"}, {"code": "None", "block_type": "CodeSpanBlock"}, {"text": ".", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "#### \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0432\u0435\u0440\u0441\u0438\u0438", "children": [{"text": "Varying behavior based on the version", "block_type": "TextBlock"}], "level": 4, "block_type": "HeadingBlock"}, {"translated_data": "\u041a\u0430\u043a \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 API, \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0432\u0430\u0441, \u043d\u043e \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f, \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0442\u0438\u043b\u044c \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u0431\u043e\u043b\u0435\u0435 \u043d\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:", "children": [{"text": "How you vary the API behavior is up to you, but one example you might typically want is to switch to a different serialization style in a newer version. For example:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "def get_serializer_class(self):\n    if self.request.version == 'v1':\n        return AccountSerializerVersion1\n    return AccountSerializer", "language": null, "block_type": "CodeBlock"}, {"translated_data": "#### \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 URL-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0434\u043b\u044f \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u043d\u044b\u0445 API", "children": [{"text": "Reversing URLs for versioned APIs", "block_type": "TextBlock"}], "level": 4, "block_type": "HeadingBlock"}, {"translated_data": "\u0424\u0443\u043d\u043a\u0446\u0438\u044f 'reverse', \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u0430\u044f \u0432 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 REST, \u0441\u0432\u044f\u0437\u0430\u043d\u0430 \u0441\u043e \u0441\u0445\u0435\u043c\u043e\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438. \u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u043b\u0438 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u00ab\u0437\u0430\u043f\u0440\u043e\u0441\u00bb \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0433\u043e \u0441\u043b\u043e\u0432\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440.", "children": [{"text": "The ", "block_type": "TextBlock"}, {"code": "reverse", "block_type": "CodeSpanBlock"}, {"text": " function included by REST framework ties in with the versioning scheme. You need to make sure to include the current ", "block_type": "TextBlock"}, {"code": "request", "block_type": "CodeSpanBlock"}, {"text": " as a keyword argument, like so.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "from rest_framework.reverse import reverse\n\nreverse('bookings-list', request=request)", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u041f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043d\u0430\u044f \u0432\u044b\u0448\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043b\u044e\u0431\u044b\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f URL-\u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:", "children": [{"text": "The above function will apply any URL transformations appropriate to the request version. For example:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "* \u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f 'NamespaceVersioning', \u0430 \u0432\u0435\u0440\u0441\u0438\u044f API 'v1', \u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0438\u0441\u043a URL-\u0430\u0434\u0440\u0435\u0441\u0430 ''v1:bookings-list'', \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0442\u044c\u0441\u044f \u0432 URL-\u0430\u0434\u0440\u0435\u0441 \u0442\u0438\u043f\u0430 \"http://example.org/v1/bookings/\".\n* \u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f 'QueryParameterVersioning', \u0430 \u0432\u0435\u0440\u0441\u0438\u044f API '1.0', \u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0439 URL-\u0430\u0434\u0440\u0435\u0441 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0447\u0435\u043c-\u0442\u043e \u0432\u0440\u043e\u0434\u0435 'http://example.org/bookings/?version=1.0'", "children": [{"children": [{"text": "If ", "block_type": "TextBlock"}, {"code": "NamespaceVersioning", "block_type": "CodeSpanBlock"}, {"text": " was being used, and the API version was 'v1', then the URL lookup used would be ", "block_type": "TextBlock"}, {"code": "'v1:bookings-list'", "block_type": "CodeSpanBlock"}, {"text": ", which might resolve to a URL like ", "block_type": "TextBlock"}, {"code": "http://example.org/v1/bookings/", "block_type": "CodeSpanBlock"}, {"text": ".", "block_type": "TextBlock"}], "nested_children": [], "level": 1, "block_type": "ListItemBlock"}, {"children": [{"text": "If ", "block_type": "TextBlock"}, {"code": "QueryParameterVersioning", "block_type": "CodeSpanBlock"}, {"text": " was being used, and the API version was ", "block_type": "TextBlock"}, {"code": "1.0", "block_type": "CodeSpanBlock"}, {"text": ", then the returned URL might be something like ", "block_type": "TextBlock"}, {"code": "http://example.org/bookings/?version=1.0", "block_type": "CodeSpanBlock"}], "nested_children": [], "level": 1, "block_type": "ListItemBlock"}], "ordered": false, "level": 1, "start": null, "block_type": "ListBlock"}, {"translated_data": "#### \u0412\u0435\u0440\u0441\u0438\u043e\u043d\u043d\u044b\u0435 API \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u044b \u0441 \u0433\u0438\u043f\u0435\u0440\u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438", "children": [{"text": "Versioned APIs and hyperlinked serializers", "block_type": "TextBlock"}], "level": 4, "block_type": "HeadingBlock"}, {"translated_data": "\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u0442\u0438\u043b\u0435\u0439 \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0433\u0438\u043f\u0435\u0440\u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441\u043e \u0441\u0445\u0435\u043c\u043e\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 URL-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440.", "children": [{"text": "When using hyperlinked serialization styles together with a URL based versioning scheme make sure to include the request as context to the serializer.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "def get(self, request):\n    queryset = Booking.objects.all()\n    serializer = BookingsSerializer(queryset, many=True, context={'request': request})\n    return Response({'all_bookings': serializer.data})", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u043b\u044e\u0431\u044b\u043c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043d\u044b\u043c URL-\u0430\u0434\u0440\u0435\u0441\u0430\u043c \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438.", "children": [{"text": "Doing so will allow any returned URLs to include the appropriate versioning.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0445\u0435\u043c\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438", "children": [{"text": "Configuring the versioning scheme", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u0421\u0445\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043b\u044e\u0447\u043e\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a 'DEFAULT_VERSIONING_CLASS'.", "children": [{"text": "The versioning scheme is defined by the ", "block_type": "TextBlock"}, {"code": "DEFAULT_VERSIONING_CLASS", "block_type": "CodeSpanBlock"}, {"text": " settings key.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "REST_FRAMEWORK = {\n    'DEFAULT_VERSIONING_CLASS': 'rest_framework.versioning.NamespaceVersioning'\n}", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u0415\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0437\u0430\u0434\u0430\u043d \u044f\u0432\u043d\u043e, \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f 'DEFAULT_VERSIONING_CLASS' \u0431\u0443\u0434\u0435\u0442 'None'. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 'request.version' \u0432\u0441\u0435\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c 'None'.", "children": [{"text": "Unless it is explicitly set, the value for ", "block_type": "TextBlock"}, {"code": "DEFAULT_VERSIONING_CLASS", "block_type": "CodeSpanBlock"}, {"text": " will be ", "block_type": "TextBlock"}, {"code": "None", "block_type": "CodeSpanBlock"}, {"text": ". In this case the ", "block_type": "TextBlock"}, {"code": "request.version", "block_type": "CodeSpanBlock"}, {"text": " attribute will always return ", "block_type": "TextBlock"}, {"code": "None", "block_type": "CodeSpanBlock"}, {"text": ".", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u041c\u043e\u0436\u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u0434\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u0434\u043b\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f. \u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u0432\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u044d\u0442\u043e\u0433\u043e \u0434\u0435\u043b\u0430\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u0438\u043c\u0435\u0435\u0442 \u0441\u043c\u044b\u0441\u043b \u0438\u043c\u0435\u0442\u044c \u0435\u0434\u0438\u043d\u0443\u044e \u0441\u0445\u0435\u043c\u0443 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0443\u044e \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e. \u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u044d\u0442\u043e \u043d\u0443\u0436\u043d\u043e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 'versioning_class'.", "children": [{"text": "You can also set the versioning scheme on an individual view. Typically you won't need to do this, as it makes more sense to have a single versioning scheme used globally. If you do need to do so, use the ", "block_type": "TextBlock"}, {"code": "versioning_class", "block_type": "CodeSpanBlock"}, {"text": " attribute.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "class ProfileList(APIView):\n    versioning_class = versioning.QueryParameterVersioning", "language": null, "block_type": "CodeBlock"}, {"translated_data": "#### \u0414\u0440\u0443\u0433\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438", "children": [{"text": "Other versioning settings", "block_type": "TextBlock"}], "level": 4, "block_type": "HeadingBlock"}, {"translated_data": "\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0442\u0430\u043a\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u0446\u0438\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0439:", "children": [{"text": "The following settings keys are also used to control versioning:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "* `Default_version`.\n\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f `request.version`, \u043a\u043e\u0433\u0434\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432\u0435\u0440\u0441\u0438\u0435\u0439 \u043d\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442.\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u00ab\u043d\u0435\u0442\u00bb.\n* `Alling_versions`.\n\u0415\u0441\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e, \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442 \u043d\u0430\u0431\u043e\u0440 \u0432\u0435\u0440\u0441\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u0441\u0445\u0435\u043c\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0439, \u0438 \u0432\u044b\u043d\u0435\u0441\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443, \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432 \u044d\u0442\u043e\u043c \u043d\u0430\u0431\u043e\u0440\u0435.\n\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0435 \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 `default_version\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u00ab\u043d\u0435\u0442\u00bb.\n* `Version_param`.\n\u0421\u0442\u0440\u043e\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043b\u044e\u0431\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0442\u0438\u043f\u0430 \u0441\u0440\u0435\u0434\u044b \u0438\u043b\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 URL.\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043a \u00ab\u0432\u0435\u0440\u0441\u0438\u0438\u00bb.", "children": [{"children": [{"code": "DEFAULT_VERSION", "block_type": "CodeSpanBlock"}, {"text": ". The value that should be used for ", "block_type": "TextBlock"}, {"code": "request.version", "block_type": "CodeSpanBlock"}, {"text": " when no versioning information is present. Defaults to ", "block_type": "TextBlock"}, {"code": "None", "block_type": "CodeSpanBlock"}, {"text": ".", "block_type": "TextBlock"}], "nested_children": [], "level": 1, "block_type": "ListItemBlock"}, {"children": [{"code": "ALLOWED_VERSIONS", "block_type": "CodeSpanBlock"}, {"text": ". If set, this value will restrict the set of versions that may be returned by the versioning scheme, and will raise an error if the provided version is not in this set. Note that the value used for the ", "block_type": "TextBlock"}, {"code": "DEFAULT_VERSION", "block_type": "CodeSpanBlock"}, {"text": " setting is always considered to be part of the ", "block_type": "TextBlock"}, {"code": "ALLOWED_VERSIONS", "block_type": "CodeSpanBlock"}, {"text": " set (unless it is ", "block_type": "TextBlock"}, {"code": "None", "block_type": "CodeSpanBlock"}, {"text": "). Defaults to ", "block_type": "TextBlock"}, {"code": "None", "block_type": "CodeSpanBlock"}, {"text": ".", "block_type": "TextBlock"}], "nested_children": [], "level": 1, "block_type": "ListItemBlock"}, {"children": [{"code": "VERSION_PARAM", "block_type": "CodeSpanBlock"}, {"text": ". The string that should be used for any versioning parameters, such as in the media type or URL query parameters. Defaults to ", "block_type": "TextBlock"}, {"code": "'version'", "block_type": "CodeSpanBlock"}, {"text": ".", "block_type": "TextBlock"}], "nested_children": [], "level": 1, "block_type": "ListItemBlock"}], "ordered": false, "level": 1, "start": null, "block_type": "ListBlock"}, {"translated_data": "\u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441 \u0432\u0435\u0440\u0441\u0438\u0439 \u043f\u043b\u044e\u0441 \u044d\u0442\u0438 \u0442\u0440\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0438\u043b\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0432 \u0441\u0432\u043e\u044e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0441\u0445\u0435\u043c\u0443 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u0435\u0439 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 `default_version`,` allow_versions` \u0438 `version_param`.\n\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c `urlPathversioning`:", "children": [{"text": "You can also set your versioning class plus those three values on a per-view or a per-viewset basis by defining your own versioning scheme and using the ", "block_type": "TextBlock"}, {"code": "default_version", "block_type": "CodeSpanBlock"}, {"text": ", ", "block_type": "TextBlock"}, {"code": "allowed_versions", "block_type": "CodeSpanBlock"}, {"text": " and ", "block_type": "TextBlock"}, {"code": "version_param", "block_type": "CodeSpanBlock"}, {"text": " class variables. For example, if you want to use ", "block_type": "TextBlock"}, {"code": "URLPathVersioning", "block_type": "CodeSpanBlock"}, {"text": ":", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "from rest_framework.versioning import URLPathVersioning\nfrom rest_framework.views import APIView\n\nclass ExampleVersioning(URLPathVersioning):\n    default_version = ...\n    allowed_versions = ...\n    version_param = ...\n\nclass ExampleView(APIVIew):\n    versioning_class = ExampleVersioning", "language": null, "block_type": "CodeBlock"}, {"block_type": "SeparatorBlock"}, {"translated_data": "# \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 API", "children": [{"text": "API Reference", "block_type": "TextBlock"}], "level": 1, "block_type": "HeadingBlock"}, {"translated_data": "## accomtheaderversioning", "children": [{"text": "AcceptHeaderVersioning", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u042d\u0442\u0430 \u0441\u0445\u0435\u043c\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442, \u0447\u0442\u043e\u0431\u044b \u043a\u043b\u0438\u0435\u043d\u0442 \u0443\u043a\u0430\u0437\u0430\u043b \u0432\u0435\u0440\u0441\u0438\u044e \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u044c \u0442\u0438\u043f\u0430 \u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044f \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435 `Accept`.\n\u0412\u0435\u0440\u0441\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0442\u0438\u043f\u0430 \u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0442\u0438\u043f \u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044f.", "children": [{"text": "This scheme requires the client to specify the version as part of the media type in the ", "block_type": "TextBlock"}, {"code": "Accept", "block_type": "CodeSpanBlock"}, {"text": " header. The version is included as a media type parameter, that supplements the main media type.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0412\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 HTTP -\u0437\u0430\u043f\u0440\u043e\u0441, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u0442\u0438\u043b\u044c \u0432\u0435\u0440\u0441\u0438\u0438 \u0432\u0435\u0440\u0441\u0438\u0438 Accept.", "children": [{"text": "Here's an example HTTP request using the accept header versioning style.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "GET /bookings/ HTTP/1.1\nHost: example.com\nAccept: application/json; version=1.0", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432\u044b\u0448\u0435 `request.version` attribute \u0432\u0435\u0440\u043d\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443` '1.0'.", "children": [{"text": "In the example request above ", "block_type": "TextBlock"}, {"code": "request.version", "block_type": "CodeSpanBlock"}, {"text": " attribute would return the string ", "block_type": "TextBlock"}, {"code": "'1.0'", "block_type": "CodeSpanBlock"}, {"text": ".", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0420\u0430\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0439, \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043d\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u0445 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f, [\u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e,] (http://blog.steveklabnik.com/posts/2011-07-03-nobody-sronstands-rest-or-http#i_want_my_api_to_bersed) \u043a\u0430\u043a [\u043d\u0430\u0438\u043b\u0443\u0447\u0448\u0430\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430] (https://\n/github.com/Interagent/http-api-design/blob/master/en/foundations/require-versioning-in-the-accepts-header.md), \u0445\u043e\u0442\u044f \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u0438\u043b\u0438 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430.", "children": [{"text": "Versioning based on accept headers is ", "block_type": "TextBlock"}, {"children": [{"text": "generally considered", "block_type": "TextBlock"}], "url": "http://blog.steveklabnik.com/posts/2011-07-03-nobody-understands-rest-or-http#i_want_my_api_to_be_versioned", "title": null, "block_type": "LinkBlock"}, {"text": " as ", "block_type": "TextBlock"}, {"children": [{"text": "best practice", "block_type": "TextBlock"}], "url": "https://github.com/interagent/http-api-design/blob/master/en/foundations/require-versioning-in-the-accepts-header.md", "title": null, "block_type": "LinkBlock"}, {"text": ", although other styles may be suitable depending on your client requirements.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "#### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 Accept \u0441 \u0442\u0438\u043f\u0430\u043c\u0438 \u043c\u0435\u0434\u0438\u0430 -\u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u0432", "children": [{"text": "Using accept headers with vendor media types", "block_type": "TextBlock"}], "level": 4, "block_type": "HeadingBlock"}, {"translated_data": "\u0421\u0442\u0440\u043e\u0433\u043e \u0433\u043e\u0432\u043e\u0440\u044f, \u0442\u0438\u043f \u043c\u0435\u0434\u0438\u0430 json` \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043a\u0430\u043a [\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b] (https://tools.ietf.org/html/rfc4627#section-6).\n\u0415\u0441\u043b\u0438 \u0432\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0435 \u0445\u043e\u0440\u043e\u0448\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 API, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f [\u0442\u0438\u043f\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438] (https://en.wikipedia.org/wiki/internet_media_type#vendor_tree).\n\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u043e\u0440\u044b \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 JSON \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044f:", "children": [{"text": "Strictly speaking the ", "block_type": "TextBlock"}, {"code": "json", "block_type": "CodeSpanBlock"}, {"text": " media type is not specified as ", "block_type": "TextBlock"}, {"children": [{"text": "including additional parameters", "block_type": "TextBlock"}], "url": "https://tools.ietf.org/html/rfc4627#section-6", "title": null, "block_type": "LinkBlock"}, {"text": ". If you are building a well-specified public API you might consider using a ", "block_type": "TextBlock"}, {"children": [{"text": "vendor media type", "block_type": "TextBlock"}], "url": "https://en.wikipedia.org/wiki/Internet_media_type#Vendor_tree", "title": null, "block_type": "LinkBlock"}, {"text": ". To do so, configure your renderers to use a JSON based renderer with a custom media type:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "class BookingsAPIRenderer(JSONRenderer):\n    media_type = 'application/vnd.megacorp.bookings+json'", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u0412\u0430\u0448\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0442\u0435\u043f\u0435\u0440\u044c \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c \u0442\u0430\u043a:", "children": [{"text": "Your client requests would now look like this:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "GET /bookings/ HTTP/1.1\nHost: example.com\nAccept: application/vnd.megacorp.bookings+json; version=1.0", "language": null, "block_type": "CodeBlock"}, {"translated_data": "## urlpathversioning", "children": [{"text": "URLPathVersioning", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u042d\u0442\u0430 \u0441\u0445\u0435\u043c\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u044e \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u044c \u043f\u0443\u0442\u0438 URL.", "children": [{"text": "This scheme requires the client to specify the version as part of the URL path.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "GET /v1/bookings/ HTTP/1.1\nHost: example.com\nAccept: application/json", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u0412\u0430\u0448 URL Conf \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u0435\u0440\u0441\u0438\u0438 \u0441 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0433\u043e \u0441\u043b\u043e\u0432\u0430 \u00ab\u0432\u0435\u0440\u0441\u0438\u044f\u00bb, \u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0431\u044b\u043b\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0434\u043b\u044f \u0441\u0445\u0435\u043c\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438.", "children": [{"text": "Your URL conf must include a pattern that matches the version with a ", "block_type": "TextBlock"}, {"code": "'version'", "block_type": "CodeSpanBlock"}, {"text": " keyword argument, so that this information is available to the versioning scheme.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "urlpatterns = [\n    re_path(\n        r'^(?P<version>(v1|v2))/bookings/$',\n        bookings_list,\n        name='bookings-list'\n    ),\n    re_path(\n        r'^(?P<version>(v1|v2))/bookings/(?P<pk>[0-9]+)/$',\n        bookings_detail,\n        name='bookings-detail'\n    )\n]", "language": null, "block_type": "CodeBlock"}, {"translated_data": "## namespaceversioning", "children": [{"text": "NamespaceVersioning", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u0414\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u044d\u0442\u0430 \u0441\u0445\u0435\u043c\u0430 \u0442\u0430\u043a\u0430\u044f \u0436\u0435, \u043a\u0430\u043a \u0438 `urlpathversioning.\n\u0415\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u043e\u043c, \u043a\u0430\u043a \u043e\u043d \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d \u0432 \u0432\u0430\u0448\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 Django, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043e\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0438\u043c\u0435\u043d URL, \u0432\u043c\u0435\u0441\u0442\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0441\u043b\u043e\u0432 URL.", "children": [{"text": "To the client, this scheme is the same as ", "block_type": "TextBlock"}, {"code": "URLPathVersioning", "block_type": "CodeSpanBlock"}, {"text": ". The only difference is how it is configured in your Django application, as it uses URL namespacing, instead of URL keyword arguments.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "GET /v1/something/ HTTP/1.1\nHost: example.com\nAccept: application/json", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u0421 \u044d\u0442\u043e\u0439 \u0441\u0445\u0435\u043c\u043e\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 `request.version` \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435\u00ab \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430 \u0438\u043c\u0435\u043d \u00bb, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u043c\u0443 \u043f\u0443\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.", "children": [{"text": "With this scheme the ", "block_type": "TextBlock"}, {"code": "request.version", "block_type": "CodeSpanBlock"}, {"text": " attribute is determined based on the ", "block_type": "TextBlock"}, {"code": "namespace", "block_type": "CodeSpanBlock"}, {"text": " that matches the incoming request path.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u043c\u044b \u0434\u0430\u0435\u043c \u043d\u0430\u0431\u043e\u0440 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u043e \u0434\u0432\u0443\u0445 \u0440\u0430\u0437\u043d\u044b\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430\u0445 URL, \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e\u0434 \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e\u043c \u0438\u043c\u0435\u043d:", "children": [{"text": "In the following example we're giving a set of views two different possible URL prefixes, each under a different namespace:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "# bookings/urls.py\nurlpatterns = [\n    re_path(r'^$', bookings_list, name='bookings-list'),\n    re_path(r'^(?P<pk>[0-9]+)/$', bookings_detail, name='bookings-detail')\n]\n\n# urls.py\nurlpatterns = [\n    re_path(r'^v1/bookings/', include('bookings.urls', namespace='v1')),\n    re_path(r'^v2/bookings/', include('bookings.urls', namespace='v2'))\n]", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u041a\u0430\u043a `urlPathversioning, \u0442\u0430\u043a \u0438` namespaceversioning` \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0440\u0430\u0437\u0443\u043c\u043d\u044b\u043c\u0438, \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0443\u0436\u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u0441\u0445\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438.\n\u041f\u043e\u0434\u0445\u043e\u0434 `urlpathversioning '\u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432, \u0430\u00ab \u0438\u043c\u0435\u043d\u0430\u043c \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430 \u00bb, \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e, \u043b\u0435\u0433\u0447\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043a\u0440\u0443\u043f\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.", "children": [{"text": "Both ", "block_type": "TextBlock"}, {"code": "URLPathVersioning", "block_type": "CodeSpanBlock"}, {"text": " and ", "block_type": "TextBlock"}, {"code": "NamespaceVersioning", "block_type": "CodeSpanBlock"}, {"text": " are reasonable if you just need a simple versioning scheme. The ", "block_type": "TextBlock"}, {"code": "URLPathVersioning", "block_type": "CodeSpanBlock"}, {"text": " approach might be better suitable for small ad-hoc projects, and the ", "block_type": "TextBlock"}, {"code": "NamespaceVersioning", "block_type": "CodeSpanBlock"}, {"text": " is probably easier to manage for larger projects.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "## hostnameversioning", "children": [{"text": "HostNameVersioning", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u0421\u0445\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 HostName \u0442\u0440\u0435\u0431\u0443\u0435\u0442, \u0447\u0442\u043e\u0431\u044b \u043a\u043b\u0438\u0435\u043d\u0442 \u0443\u043a\u0430\u0437\u0430\u043b \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u044c \u0438\u043c\u0435\u043d\u0438 HOSTN \u0432 URL.", "children": [{"text": "The hostname versioning scheme requires the client to specify the requested version as part of the hostname in the URL.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043e http -\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 `http: // v1.example.com/bookings/` url:", "children": [{"text": "For example the following is an HTTP request to the ", "block_type": "TextBlock"}, {"code": "http://v1.example.com/bookings/", "block_type": "CodeSpanBlock"}, {"text": " URL:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "GET /bookings/ HTTP/1.1\nHost: v1.example.com\nAccept: application/json", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u044d\u0442\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0436\u0438\u0434\u0430\u0435\u0442, \u0447\u0442\u043e \u0438\u043c\u044f \u0445\u043e\u0441\u0442\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u044d\u0442\u043e\u043c\u0443 \u043f\u0440\u043e\u0441\u0442\u043e\u043c\u0443 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e\u043c\u0443 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044e:", "children": [{"text": "By default this implementation expects the hostname to match this simple regular expression:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "^([a-zA-Z0-9]+)\\.[a-zA-Z0-9]+\\.[a-zA-Z0-9]+$", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u0435\u0440\u0432\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0432 \u0441\u043a\u043e\u0431\u043a\u0438, \u0447\u0442\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u044d\u0442\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0438\u043c\u0435\u043d\u0438 \u0445\u043e\u0441\u0442\u0430.", "children": [{"text": "Note that the first group is enclosed in brackets, indicating that this is the matched portion of the hostname.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0421\u0445\u0435\u043c\u0430 `hostnameversioning` \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435\u043b\u043e\u0432\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043e\u0442\u043b\u0430\u0434\u043a\u0438, \u0442\u0430\u043a \u043a\u0430\u043a \u0432\u044b \u043e\u0431\u044b\u0447\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u043e\u043c\u0443 IP -\u0430\u0434\u0440\u0435\u0441\u0443, \u0442\u0430\u043a\u043e\u043c\u0443 \u043a\u0430\u043a` 127.0.0.1`.\n\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043e\u043d\u043b\u0430\u0439\u043d-\u0443\u0447\u0435\u0431\u043d\u0438\u043a\u0438 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a [\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a Localhost \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u0443\u0431\u0434\u043e\u043c\u0435\u043d\u0430] (https://reinteractive.net/posts/199-developing-and-testing-rails-applications-with-subdomains), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0432 \u044d\u0442\u043e\u043c\n\u043a\u0435\u0439\u0441.", "children": [{"text": "The ", "block_type": "TextBlock"}, {"code": "HostNameVersioning", "block_type": "CodeSpanBlock"}, {"text": " scheme can be awkward to use in debug mode as you will typically be accessing a raw IP address such as ", "block_type": "TextBlock"}, {"code": "127.0.0.1", "block_type": "CodeSpanBlock"}, {"text": ". There are various online tutorials on how to ", "block_type": "TextBlock"}, {"children": [{"text": "access localhost with a custom subdomain", "block_type": "TextBlock"}], "url": "https://reinteractive.net/posts/199-developing-and-testing-rails-applications-with-subdomains", "title": null, "block_type": "LinkBlock"}, {"text": " which you may find helpful in this case.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0439 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 HostName \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u043c, \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u044b \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0432\u0435\u0440\u0441\u0438\u0438, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 DNS \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 API.", "children": [{"text": "Hostname based versioning can be particularly useful if you have requirements to route incoming requests to different servers based on the version, as you can configure different DNS records for different API versions.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "## Queryparameterversioning", "children": [{"text": "QueryParameterVersioning", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u042d\u0442\u0430 \u0441\u0445\u0435\u043c\u0430 - \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u0442\u0438\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f \u0432\u0435\u0440\u0441\u0438\u044e \u043a\u0430\u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 URL.\n\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:", "children": [{"text": "This scheme is a simple style that includes the version as a query parameter in the URL. For example:", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "GET /something/?version=0.1 HTTP/1.1\nHost: example.com\nAccept: application/json", "language": null, "block_type": "CodeBlock"}, {"block_type": "SeparatorBlock"}, {"translated_data": "# \u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0445\u0435\u043c\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438", "children": [{"text": "Custom versioning schemes", "block_type": "TextBlock"}], "level": 1, "block_type": "HeadingBlock"}, {"translated_data": "\u0427\u0442\u043e\u0431\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0441\u0445\u0435\u043c\u0443 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438, \u043f\u043e\u0434\u043a\u043b\u0430\u0441\u0441 `baseversioning` \u0438 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043c\u0435\u0442\u043e\u0434` .determine_version '.", "children": [{"text": "To implement a custom versioning scheme, subclass ", "block_type": "TextBlock"}, {"code": "BaseVersioning", "block_type": "CodeSpanBlock"}, {"text": " and override the ", "block_type": "TextBlock"}, {"code": ".determine_version", "block_type": "CodeSpanBlock"}, {"text": " method.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "## \u041f\u0440\u0438\u043c\u0435\u0440", "children": [{"text": "Example", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a `x-api-version` \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438.", "children": [{"text": "The following example uses a custom ", "block_type": "TextBlock"}, {"code": "X-API-Version", "block_type": "CodeSpanBlock"}, {"text": " header to determine the requested version.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "class XAPIVersionScheme(versioning.BaseVersioning):\n    def determine_version(self, request, *args, **kwargs):\n        return request.META.get('HTTP_X_API_VERSION', None)", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u0415\u0441\u043b\u0438 \u0432\u0430\u0448\u0430 \u0441\u0445\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0430 \u043d\u0430 URL -\u0430\u0434\u0440\u0435\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0432\u044b \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0439 URL -\u0430\u0434\u0440\u0435\u0441\u043e\u0432.\n\u0427\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e, \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043c\u0435\u0442\u043e\u0434 `.reverse ()` \u043d\u0430 \u043a\u043b\u0430\u0441\u0441\u0435.\n\u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432.", "children": [{"text": "If your versioning scheme is based on the request URL, you will also want to alter how versioned URLs are determined. In order to do so you should override the ", "block_type": "TextBlock"}, {"code": ".reverse()", "block_type": "CodeSpanBlock"}, {"text": " method on the class. See the source code for examples.", "block_type": "TextBlock"}], "block_type": "Paragraph"}]}