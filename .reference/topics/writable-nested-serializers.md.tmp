{"source": "/home/ilyachch/Projects/OpenSource/django-rest-framework-rusdoc/.reference/topics/writable-nested-serializers.md", "blocks": [{"translated_data": "> \u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c HTTP -\u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c.\n>\n> & mdash;\n[JSON API-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u044b\u0445 Ember] (http://jsonapi.org/format/#url \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 json-api).", "children": [{"children": [{"text": "To save HTTP requests, it may be convenient to send related documents along with the request.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"block_type": "NewlineBlock"}, {"children": [{"text": "&mdash; ", "block_type": "TextBlock"}, {"children": [{"text": "JSON API specification for Ember Data", "block_type": "TextBlock"}], "url": "http://jsonapi.org/format/#url-based-json-api", "title": null, "block_type": "LinkBlock"}, {"text": ".", "block_type": "TextBlock"}], "block_type": "Paragraph"}], "block_type": "BlockQuote"}, {"translated_data": "# \u0412\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0438\u0430\u043b\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438", "children": [{"text": "Writable nested serializers", "block_type": "TextBlock"}], "level": 1, "block_type": "HeadingBlock"}, {"translated_data": "\u0425\u043e\u0442\u044f \u043f\u043b\u043e\u0441\u043a\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u0443\u0436\u0430\u0442 \u0434\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0441\u043b\u0443\u0436\u0431\u0435, \u0435\u0441\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0438, \u043a\u043e\u0433\u0434\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u043c \u0438\u043b\u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u0434\u0430\u043d\u043d\u044b\u0445.", "children": [{"text": "Although flat data structures serve to properly delineate between the individual entities in your service, there are cases where it may be more appropriate or convenient to use nested data structures.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "\u0412\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b, \u0435\u0441\u043b\u0438 \u043e\u043d\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f - \u043f\u0440\u043e\u0441\u0442\u043e \u0433\u043d\u0435\u0437\u0434\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0433\u043e\u0442\u043e\u0432\u043e.\n\u0422\u0435\u043c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, \u0435\u0441\u0442\u044c \u0435\u0449\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u043d\u043a\u043e\u0441\u0442\u0435\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0441 \u0437\u0430\u043f\u0438\u0441\u0438, \u0438\u0437 -\u0437\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u043c\u0435\u0436\u0434\u0443 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430\u043c\u0438 \u043c\u043e\u0434\u0435\u043b\u0438 \u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 \u0432 \u043e\u0434\u043d\u043e\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0438.", "children": [{"text": "Nested data structures are easy enough to work with if they're read-only - simply nest your serializer classes and you're good to go.  However, there are a few more subtleties to using writable nested serializers, due to the dependencies between the various model instances, and the need to save or delete multiple instances in a single action.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "## \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445 One-More", "children": [{"text": "One-to-many data structures", "block_type": "TextBlock"}], "level": 2, "block_type": "HeadingBlock"}, {"translated_data": "*\u041f\u0440\u0438\u043c\u0435\u0440 ** \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f ** \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0430.\n\u0417\u0434\u0435\u0441\u044c \u043d\u0435 \u043e \u0447\u0435\u043c \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0438\u0442\u044c\u0441\u044f.*", "children": [{"children": [{"text": "Example of a ", "block_type": "TextBlock"}], "block_type": "EmphasisTextBlock"}, {"children": [{"text": "read-only", "block_type": "TextBlock"}], "block_type": "EmphasisTextBlock"}, {"text": "* nested serializer.  Nothing complex to worry about here.*", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "class ToDoItemSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = ToDoItem\n        fields = ['text', 'is_completed']\n\nclass ToDoListSerializer(serializers.ModelSerializer):\n    items = ToDoItemSerializer(many=True, read_only=True)\n\n    class Meta:\n        model = ToDoList\n        fields = ['title', 'items']", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0432\u043e\u0434\u0430 \u0438\u0437 \u043d\u0430\u0448\u0435\u0433\u043e \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0430.", "children": [{"text": "Some example output from our serializer.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"code": "{\n    'title': 'Leaving party preparations',\n    'items': [\n        {'text': 'Compile playlist', 'is_completed': True},\n        {'text': 'Send invites', 'is_completed': False},\n        {'text': 'Clean house', 'is_completed': False}\n    ]\n}", "language": null, "block_type": "CodeBlock"}, {"translated_data": "\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0448\u0435\u0439 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043e\u0434\u043d\u0438\u043c \u043a\u043e \u043c\u043d\u043e\u0433\u0438\u043c.", "children": [{"text": "Let's take a look at updating our nested one-to-many data structure.", "block_type": "TextBlock"}], "block_type": "Paragraph"}, {"translated_data": "### \u041e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438", "children": [{"text": "Validation errors", "block_type": "TextBlock"}], "level": 3, "block_type": "HeadingBlock"}, {"translated_data": "### \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432", "children": [{"text": "Adding and removing items", "block_type": "TextBlock"}], "level": 3, "block_type": "HeadingBlock"}, {"translated_data": "### \u0417\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u043f\u0430\u0442\u0447", "children": [{"text": "Making PATCH requests", "block_type": "TextBlock"}], "level": 3, "block_type": "HeadingBlock"}]}